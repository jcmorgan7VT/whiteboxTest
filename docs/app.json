[{"name":"app.R","content":"#\n# This is a Shiny web application. You can run the application by clicking\n# the 'Run App' button above.\n#\n# Find out more about building applications with Shiny here:\n#\n#    https://shiny.posit.co/\n#\n\nlibrary(shiny)\nlibrary(shiny)\nlibrary(whitebox)\nlibrary(terra)\nui <- fluidPage(\n  \n  titlePanel(paste(\"WhiteboxTools-Shiny Test\", getwd())),\n  \n  sidebarLayout(\n    sidebarPanel(\n      sliderInput(\"threshold\", \"Threshold:\", min = 1, max = 40, value = 8),\n      checkboxInput(\"compress\", \"Compress Rasters?\")\n    ),\n    mainPanel(\n      plotOutput(\"slopePlot\")\n    )\n  )\n)\nserver <- function(input, output) {\n  # setwd(\"~\")\n  # wbt_wd(\"\")\n  output$slopePlot <- renderPlot({\n    # generate threshold slope map based on input$threshold from ui.R\n    x <- wbt_slope(sample_dem_data(destfile = \"~/input.tif\"), \"~/output.tif\")\n    # , compress_rasters = input$compress)\n    terra::plot(terra::rast(\"~/output.tif\") > input$threshold)\n    unlink(\"~/output.tif\")\n  })\n}\nshinyApp(ui = ui, server = server)\n##shinylive::export(appdir = \"latFlow\", destdir = \"docs\")\n","type":"text"}]
